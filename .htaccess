# Povolení GZIP komprese pro lepší výkon
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>

# Nastavení Vary header pro správné cachování
<IfModule mod_headers.c>
  Header append Vary: Accept-Encoding
  Header set X-UA-Compatible "IE=edge"
  Header set X-Content-Type-Options "nosniff"
  Header set X-Frame-Options "SAMEORIGIN"
</IfModule>

# Caching - kešování na klientovi
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresDefault                                      "access plus 30 days"
  ExpiresByType text/html                             "access plus 30 minutes"
  ExpiresByType text/plain                            "access plus 30 days"
  ExpiresByType text/xml                              "access plus 30 days"
  ExpiresByType application/xml                       "access plus 30 days"
  ExpiresByType text/css                              "access plus 1 year"
  ExpiresByType application/javascript                "access plus 1 year"
  ExpiresByType text/javascript                       "access plus 1 year"
  ExpiresByType image/gif                             "access plus 1 year"
  ExpiresByType image/jpeg                            "access plus 1 year"
  ExpiresByType image/png                             "access plus 1 year"
  ExpiresByType image/webp                            "access plus 1 year"
  ExpiresByType image/svg+xml                         "access plus 1 year"
  ExpiresByType image/x-icon                          "access plus 1 year"
  ExpiresByType application/font-woff                 "access plus 1 year"
  ExpiresByType application/font-woff2                "access plus 1 year"
  ExpiresByType image/vnd.microsoft.icon              "access plus 1 year"
</IfModule>

# Zakázání direktorium listingu
<IfModule mod_autoindex.c>
  Options -Indexes
</IfModule>

# Přesměrování HTTP na HTTPS (volitelné - odkomentuj pokud je HTTPS dostupný)
# <IfModule mod_rewrite.c>
#   RewriteEngine On
#   RewriteCond %{HTTPS} off
#   RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
# </IfModule>

# Přesměrování bez www na www (volitelné - uprav podle potřeby)
# <IfModule mod_rewrite.c>
#   RewriteEngine On
#   RewriteCond %{HTTP_HOST} ^384\.cz [NC]
#   RewriteRule ^(.*)$ http://www.384.cz/$1 [L,R=301]
# </IfModule>

# Prevence přístupu k citlivým souborům
<FilesMatch "\.env|\.git|\.htaccess|composer\.lock">
  <IfModule mod_authz_core.c>
    Require all denied
  </IfModule>
  <IfModule !mod_authz_core.c>
    Order allow,deny
    Deny from all
  </IfModule>
</FilesMatch>
